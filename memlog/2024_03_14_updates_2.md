# QIFParser Updates Part 2 - March 14, 2024

## Bug Fixes
1. Fixed error handling to match test expectations
   - Passing through ValueError for amount parsing
   - Passing through ValueError for empty files
   - Using QIFParserError for QIF-specific issues
2. Added parser state reset between files
3. Improved investment transaction handling
   - Calculate amount from quantity * price if missing
   - Better handling of investment-specific fields
4. Fixed transaction validation
   - Proper checking of required fields
   - Better error messages for missing fields

## Test Fixes
1. test_amount_parsing: Now properly raises ValueError
2. test_error_handling: Properly handles empty files
3. test_parse_investment_account_8007: Fixed missing type field
4. Investment transaction validation improved

## Next Steps
1. Add more test cases for investment calculations
2. Improve error messages for specific file formats
3. Add validation for investment-specific fields
4. Consider adding transaction type enum for investment accounts 